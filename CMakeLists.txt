cmake_minimum_required(VERSION 3.22)
project(ESL)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)
set(CMAKE_EXE_LINKER_FLAGS "-static")

add_executable(ESL src/main.cpp src/moduleDefs.h src/common.h src/files.h src/files.cpp src/Codegen/codegenDefs.h src/Codegen/codegenDefs.cpp src/Codegen/compiler.h src/Codegen/compiler.cpp src/DebugPrinting/ASTPrinter.h src/DebugPrinting/ASTPrinter.cpp src/DebugPrinting/BytecodePrinter.h src/DebugPrinting/BytecodePrinter.cpp src/ErrorHandling/errorHandler.h src/ErrorHandling/errorHandler.cpp src/MemoryManagment/garbageCollector.h src/MemoryManagment/garbageCollector.cpp src/Objects/objects.h src/Objects/objects.cpp src/Parsing/ASTDefs.h src/Parsing/ASTProbe.h src/Parsing/ASTProbe.cpp src/Parsing/parser.h src/Parsing/parser.cpp src/Preprocessing/scanner.h src/Preprocessing/scanner.cpp src/Preprocessing/preprocessor.h src/Preprocessing/preprocessor.cpp src/Runtime/vm.h src/Runtime/vm.cpp src/Runtime/thread.h src/Runtime/thread.cpp src/Includes/format.cc src/Includes/format.cc src/Includes/format.cc src/Includes/fmt/color.h src/Includes/fmt/ostream.h src/Includes/fmt/std.h src/Runtime/nativeFunctions.h src/Runtime/nativeFunctions.cpp src/Parsing/MacroExpander.h src/Parsing/MacroExpander.cpp src/Codegen/valueHelpersInline.cpp src/Includes/unorderedDense.h src/Codegen/upvalueFinder.h src/Codegen/upvalueFinder.cpp src/SemanticAnalysis/semanticAnalyzer.h src/SemanticAnalysis/semanticAnalyzer.h src/SemanticAnalysis/semanticAnalyzer.cpp src/SemanticAnalysis/semanticAnalyzer.cpp)